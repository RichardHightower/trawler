apiVersion: apps/v1
kind: Model

metadata:
  module-name: Company


validation-rules:
  phone:
    min: 5
    max: 15
    regex: '\(?\<[0-9]{3}[-) ]?[0-9]{3}[ -]?[0-9]{4}\>'

field-definitions:
  UUID:
    type: uuid
  Name:
    type: string
    # validation-rules: add validation rules here
    # length
  PhoneNumber:
    type: string
    validation-rules: [phone]


defininitions:
  Employee:
    description: An employee of a company
    fields:
      id:
        definition: UUID
      firstName:
        definition: Name
      lastName:
        definition: Name
      homeNumber:
        definition: PhoneNumber #assumes PhoneNumber but you can leave off #/fields/
      officeNumber:
        definition: PhoneNumber
    associations:
      department:
        definition: Department
  Department:
      description: A department of a company
      fields:
        id:
          definition: UUID
        name:
          definition: Name
          description: Name of department
      associations:
        manager:
          definition : Employee
        employees:
          definition: Many(Employee)
